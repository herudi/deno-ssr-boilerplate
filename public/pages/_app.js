var J=Object.defineProperty,q=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var S=(e,t,r)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))K.call(t,r)&&S(e,r,t[r]);if(P)for(var r of P(t))M.call(t,r)&&S(e,r,t[r]);return e},y=(e,t)=>q(e,F(t));var v=(e,t)=>()=>(e&&(t=e(e=0)),t);var Q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _=(e,t,r)=>new Promise((s,a)=>{var n=l=>{try{o(r.next(l))}catch(k){a(k)}},i=l=>{try{o(r.throw(l))}catch(k){a(k)}},o=l=>l.done?s(l.value):Promise.resolve(l.value).then(n,i);o((r=r.apply(e,t)).next())});var j,C,H=v(()=>{j=[{path:"/about",page:"./about.js"},{path:"/blog",page:"./blog/index.js"},{path:"/blog/:title",page:"./blog/[title].js"},{path:"/",page:"./index.js"}],C="1646459058760"});import{h as d,Router as V}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";import{tw as p}from"https://cdn.skypack.dev/twind@0.16.16";function R({route:e}){return d("nav",{class:p`bg-gray-800 sticky top-0 z-10`},d("div",{class:p`max-w-7xl mx-auto px-2 sm:px-6 lg:px-8`},d("div",{class:p`relative flex items-center justify-between h-16`},d("div",{class:p`flex-1 flex items-center justify-center sm:items-stretch sm:justify-start`},d("div",{class:p`sm:block sm:ml-6`},d("div",{class:p`flex space-x-4`},d(T,{class:p`${e.pathname==="/"?$:h}`,to:"/"},"Home"),d(T,{class:p`${e.pathname.startsWith("/blog")?$:h}`,to:"/blog"},"Blog"),d(T,{class:p`${e.pathname==="/about"?$:h}`,to:"/about"},"About")))),d("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},d("a",{class:p`${h}`,href:"https://github.com/herudi/deno-ssr-boilerplate",target:"__blank"},"Github")))))}var T,$,h,I=v(()=>{({Link:T}=V),$="bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium",h="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"});import{h as f,Helmet as X}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";import D from"https://esm.sh/nprogress?no-check";function b({Component:e,props:t}){return f("div",null,f(X,null,f("html",{lang:"en"}),f("link",{rel:"icon",href:"data:,"}),f("link",{href:"https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css",rel:"stylesheet"})),f(R,{route:t.route}),f(e,g({},t)))}var A,x,N=v(()=>{I();b.onStart=()=>{A=setTimeout(()=>{D.start()},300)};b.onEnd=()=>{A&&clearTimeout(A),D.done()};b.onError=e=>{console.error(e)};x=b});import{h as Y}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";function B({Page:e,initData:t,route:r,isServer:s}){return Y(x,{Component:e,props:y(g({},t),{route:r,isServer:s})})}var m,O=v(()=>{N();B.event={onStart:x.onStart,onEnd:x.onEnd,onError:x.onError};m=B});import{h as c}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";import{tw as u}from"https://cdn.skypack.dev/twind@0.16.16";function Z({message:e}){return c("div",{class:u`flex items-center justify-center w-screen h-screen`},c("div",{class:u`px-40 py-20 bg-white rounded-md`},c("div",{class:u`flex flex-col items-center`},c("h1",{class:u`font-bold text-blue-600 text-9xl`},"404"),c("h6",{class:u`mb-2 text-2xl font-bold text-center text-gray-800 md:text-3xl`},c("span",{class:"text-red-500"},"Oops!")," Page not found"),c("p",{class:u`mb-8 text-center text-gray-500 md:text-lg`},e||"not found"),c("a",{href:"/",class:u`px-6 py-2 text-sm font-semibold text-blue-800 bg-blue-100`},"Go home"))))}var L,W=v(()=>{L=Z});import{h as U,hydrate as tt}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";function et(e,t,r){let s=r.groups||{};if(!t)return s;if(e.indexOf("*")!==-1){r.shift();let a=r.filter(o=>o!==void 0).filter(o=>o.startsWith("/")).join("").split("/");a.shift();let n=y(g({},s),{wild:a.filter(o=>o!=="")});if(e==="*"||e.indexOf("/*")!==-1)return n;let i=e.split("/").find(o=>o.startsWith(":")&&o.endsWith("*"));return i&&(i=i.slice(1,-1),n[i]=[n[i]].concat(n.wild).filter(o=>o!==""),delete n.wild),n}return s}function rt(e){try{return decodeURI(e)}catch(t){return e}}var w,z=v(()=>{W();w=class{constructor(t={}){this.routes=[];this.id=t.id||"root",this.fallback=t.fallback||U(L,null)}add(t,r){let s=!1,a=t.replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/(\/?)\*/g,(i,o)=>(s=!0,`(${o}.*)?`)).replace(/\.(?=[\w(])/,"\\."),n=new RegExp(`^${a}/*$`);return this.routes.push({path:t,fn:r,regex:n,wild:s}),this}find(t){let r,s={},a=0,n,i=this.routes,o=i.length;for(t=rt(t);a<o;){if(n=i[a],n.regex.test(t)){let l=n.regex.exec(t);r=n.fn,s=et(n.path,n.wild,l);break}a++}return{fn:r,params:s}}handle(){let{pathname:t,search:r}=window.location;if(this.current===t+r)return;let{fn:s,params:a}=this.find(t);this.current=t+r;let n=this.id,i={pathname:t,url:this.current,path:t,search:r,params:a,render(o,l){tt(o,document.getElementById(l||n))}};if(!s)return i.render(U(L,null));s(i)}resolve(){let t=()=>this.handle();t(),window.addEventListener("pushstate",r=>{r.preventDefault(),t()}),window.addEventListener("replacestate",r=>{r.preventDefault(),t()}),window.addEventListener("popstate",()=>{t()})}}});import{h as nt}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";var st=Q(G=>{H();O();z();function at(e){return _(this,null,function*(){return(yield import(e+"?v="+C)).default})}var E=!0;window.addEventListener("load",()=>{let e=document.getElementById("__INIT_DATA__");e&&(e=JSON.parse(e.textContent||"{}"));let t=new w;for(let r=0;r<j.length;r++){let s=j[r];t.add(s.path,a=>_(G,null,function*(){try{!E&&m.event.onStart!==void 0&&(yield m.event.onStart(a));let n=typeof s.page=="string"?yield at(s.page):s.page,i=E?e||{}:n.initProps?yield n.initProps({isServer:!1,params:a.params,pathname:a.pathname,path:a.pathname,url:a.url,getBaseUrl:()=>location.origin}):{};a.render(nt(m,{Page:n,initData:i,route:{pathname:a.pathname,url:a.url,path:s.path,params:a.params},isServer:!1})),!E&&m.event.onEnd!==void 0&&m.event.onEnd(a)}catch(n){m.event.onError!==void 0&&m.event.onError(n,a)}E=!1}))}t.resolve()})});export default st();
