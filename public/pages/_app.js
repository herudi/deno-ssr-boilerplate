var z=Object.defineProperty,F=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var L=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))J.call(t,r)&&L(e,r,t[r]);if(T)for(var r of T(t))K.call(t,r)&&L(e,r,t[r]);return e},h=(e,t)=>F(e,G(t));var x=(e,t)=>()=>(e&&(t=e(e=0)),t);var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var y=(e,t,r)=>new Promise((i,n)=>{var a=l=>{try{o(r.next(l))}catch(R){n(R)}},s=l=>{try{o(r.throw(l))}catch(R){n(R)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(a,s);o((r=r.apply(e,t)).next())});var k,q,H=x(()=>{k=[{path:"/about",page:"./about.js"},{path:"/blog",page:"./blog/index.js"},{path:"/blog/:title",page:"./blog/[title].js"},{path:"/",page:"./index.js"}],q="1646486875889"});import{h as d,Router as Q}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";import{tw as p}from"https://cdn.skypack.dev/twind@0.16.16";function $({route:e}){return d("nav",{class:p`bg-gray-800 sticky top-0 z-10`},d("div",{class:p`max-w-7xl mx-auto px-2 sm:px-6 lg:px-8`},d("div",{class:p`relative flex items-center justify-between h-16`},d("div",{class:p`flex-1 flex items-center justify-center sm:items-stretch sm:justify-start`},d("div",{class:p`sm:block sm:ml-6`},d("div",{class:p`flex space-x-4`},d(_,{class:p`${e.pathname==="/"?j:b}`,to:"/"},"Home"),d(_,{class:p`${e.pathname.startsWith("/blog")?j:b}`,to:"/blog"},"Blog"),d(_,{class:p`${e.pathname==="/about"?j:b}`,to:"/about"},"About")))),d("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},d("a",{class:p`${b}`,href:"https://github.com/herudi/deno-ssr-boilerplate",target:"__blank"},"Github")))))}var _,j,b,I=x(()=>{({Link:_}=Q),j="bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium",b="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"});import{h as f,Helmet as V}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";function w({Component:e,props:t}){return f("div",null,f(V,null,f("html",{lang:"en"}),f("link",{rel:"icon",href:"data:,"}),f("link",{href:"https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css",rel:"stylesheet"})),f($,{route:t.route}),f(e,g({},t)))}var A,v,N=x(()=>{I();w.onStart=e=>y(void 0,null,function*(){let t=(yield import("https://esm.sh/nprogress?no-check")).default;e.NProgress=t,e.isFirst||(A=setTimeout(()=>{t.start()},300))});w.onEnd=({NProgress:e})=>{A&&clearTimeout(A),e.done()};w.onError=e=>{console.error(e)};v=w});import{h as X}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";function B({Page:e,initData:t,route:r,isServer:i}){return X(v,{Component:e,props:h(g({},t),{route:r,isServer:i})})}var c,D=x(()=>{N();B.event={onStart:v.onStart,onEnd:v.onEnd,onError:v.onError};c=B});import{h as m}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";import{tw as u}from"https://cdn.skypack.dev/twind@0.16.16";function Y({message:e}){return m("div",{class:u`flex items-center justify-center w-screen h-screen`},m("div",{class:u`px-40 py-20 bg-white rounded-md`},m("div",{class:u`flex flex-col items-center`},m("h1",{class:u`font-bold text-blue-600 text-9xl`},"404"),m("h6",{class:u`mb-2 text-2xl font-bold text-center text-gray-800 md:text-3xl`},m("span",{class:"text-red-500"},"Oops!")," Page not found"),m("p",{class:u`mb-8 text-center text-gray-500 md:text-lg`},e||"not found"),m("a",{href:"/",class:u`px-6 py-2 text-sm font-semibold text-blue-800 bg-blue-100`},"Go home"))))}var P,O=x(()=>{P=Y});import{h as U,hydrate as Z}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";function tt(e,t,r){let i=r.groups||{};if(!t)return i;if(e.indexOf("*")!==-1){r.shift();let n=r.filter(o=>o!==void 0).filter(o=>o.startsWith("/")).join("").split("/");n.shift();let a=h(g({},i),{wild:n.filter(o=>o!=="")});if(e==="*"||e.indexOf("/*")!==-1)return a;let s=e.split("/").find(o=>o.startsWith(":")&&o.endsWith("*"));return s&&(s=s.slice(1,-1),a[s]=[a[s]].concat(a.wild).filter(o=>o!==""),delete a.wild),a}return i}function et(e){try{return decodeURI(e)}catch(t){return e}}var E,W=x(()=>{O();E=class{constructor(t={}){this.routes=[];this.id=t.id||"root",this.fallback=t.fallback||U(P,null)}add(t,r){let i=!1,n=t.replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/(\/?)\*/g,(s,o)=>(i=!0,`(${o}.*)?`)).replace(/\.(?=[\w(])/,"\\."),a=new RegExp(`^${n}/*$`);return this.routes.push({path:t,fn:r,regex:a,wild:i}),this}find(t){let r,i={},n=0,a,s=this.routes,o=s.length;for(t=et(t);n<o;){if(a=s[n],a.regex.test(t)){let l=a.regex.exec(t);r=a.fn,i=tt(a.path,a.wild,l);break}n++}return{fn:r,params:i}}handle(){let{pathname:t,search:r}=window.location;if(this.current===t+r)return;let{fn:i,params:n}=this.find(t);this.current=t+r;let a=this.id,s={};if(s.pathname=t,s.url=this.current,s.search=r,s.path=t,s.isServer=!1,s.getBaseUrl=()=>location.origin,s.params=n,s.hydrate=(o,l)=>{Z(o,document.getElementById(l||a))},!i)return s.hydrate(U(P,null));i(s)}resolve(){let t=()=>this.handle();t(),window.addEventListener("pushstate",r=>{r.preventDefault(),t()}),window.addEventListener("replacestate",r=>{r.preventDefault(),t()}),window.addEventListener("popstate",()=>{t()})}}});import{h as rt}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";var at=M(C=>{H();D();W();function nt(e){return y(this,null,function*(){return(yield import(e+"?v="+q)).default})}var S=!0;window.addEventListener("load",()=>{let e=document.getElementById("__INIT_DATA__");e&&(e=JSON.parse(e.textContent||"{}"));let t=new E;for(let r=0;r<k.length;r++){let i=k[r];t.add(i.path,n=>y(C,null,function*(){n.isFirst=S;try{c.event.onStart!==void 0&&(yield c.event.onStart(n));let a=typeof i.page=="string"?yield nt(i.page):i.page,s=S?e||{}:a.initProps?yield a.initProps({isServer:!1,params:n.params,pathname:n.pathname,path:n.pathname,url:n.url,getBaseUrl:()=>location.origin}):{};n.hydrate(rt(c,{Page:a,initData:s,route:{pathname:n.pathname,url:n.url,path:i.path,params:n.params},isServer:!1})),c.event.onEnd!==void 0&&c.event.onEnd(n)}catch(a){c.event.onError!==void 0&&c.event.onError(a,n)}S=!1}))}t.resolve()})});export default at();
