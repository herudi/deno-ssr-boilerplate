var z=Object.defineProperty,F=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var q=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))J.call(t,r)&&q(e,r,t[r]);if(T)for(var r of T(t))K.call(t,r)&&q(e,r,t[r]);return e},y=(e,t)=>F(e,G(t));var x=(e,t)=>()=>(e&&(t=e(e=0)),t);var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var k=(e,t,r)=>new Promise((a,i)=>{var n=d=>{try{o(r.next(d))}catch(j){i(j)}},s=d=>{try{o(r.throw(d))}catch(j){i(j)}},o=d=>d.done?a(d.value):Promise.resolve(d.value).then(n,s);o((r=r.apply(e,t)).next())});var P,N,S=x(()=>{P=[{path:"/about",page:"./about.js"},{path:"/blog",page:"./blog/index.js"},{path:"/blog/:title",page:"./blog/[title].js"},{path:"/",page:"./index.js"},{path:"/sign",page:"./sign.js"}],N="1646619995542"});import{h as l,Router as Q}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";import{tw as p}from"https://cdn.skypack.dev/twind@0.16.16";function _({route:e}){return l("nav",{class:p`bg-gray-800 sticky top-0 z-10`},l("div",{class:p`max-w-7xl mx-auto px-2 sm:px-6 lg:px-8`},l("div",{class:p`relative flex items-center justify-between h-16`},l("div",{class:p`flex-1 flex items-center justify-center sm:items-stretch sm:justify-start`},l("div",{class:p`sm:block sm:ml-6`},l("div",{class:p`flex space-x-4`},l(b,{class:p`${e.pathname==="/"?h:v}`,to:"/"},"Home"),l(b,{class:p`${e.pathname.startsWith("/blog")?h:v}`,to:"/blog"},"Blog"),l(b,{class:p`${e.pathname==="/about"?h:v}`,to:"/about"},"About")))),l("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},l(b,{class:p`${e.pathname==="/sign"?h:v}`,to:"/sign"},"Sign"),l("a",{class:p`${v}`,href:"https://github.com/herudi/deno-ssr-boilerplate",target:"__blank"},"Github")))))}var b,h,v,D=x(()=>{({Link:b}=Q),h="bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium",v="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"});import{h as f,Helmet as V}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";function H({Component:e,props:t}){return f("div",null,f(V,{head:!0},f("html",{lang:"en"}),f("link",{rel:"icon",href:"data:,"}),f("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.js"}),f("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css",rel:"stylesheet"})),t.route.pathname!=="/sign"&&f(_,{route:t.route}),f(e,m({},t)))}var $,w,I=x(()=>{D();H.event={onStart(e){e.NProgress=window.NProgress,e.isFirst||($=setTimeout(()=>{e.NProgress.start()},300))},onEnd({NProgress:e}){$&&clearTimeout($),e.done()},onError(e){console.error(e)}};w=H});import{h as X}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";function A({Page:e,initData:t,route:r,isServer:a}){return X(w,{Component:e,props:y(m({},t),{route:r,isServer:a})})}var c,B=x(()=>{I();A.initProps=w.initProps;A.event=w.event||{};c=A});import{h as u}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";import{tw as g}from"https://cdn.skypack.dev/twind@0.16.16";function Y({message:e}){return u("div",{class:g`flex items-center justify-center w-screen h-screen`},u("div",{class:g`px-40 py-20 bg-white rounded-md`},u("div",{class:g`flex flex-col items-center`},u("h1",{class:g`font-bold text-blue-600 text-9xl`},"404"),u("h6",{class:g`mb-2 text-2xl font-bold text-center text-gray-800 md:text-3xl`},u("span",{class:"text-red-500"},"Oops!")," Page not found"),u("p",{class:g`mb-8 text-center text-gray-500 md:text-lg`},e||"not found"),u("a",{href:"/",class:g`px-6 py-2 text-sm font-semibold text-blue-800 bg-blue-100`},"Go home"))))}var L,O=x(()=>{L=Y});import{h as W,hydrate as Z}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";function tt(e,t,r){let a=r.groups||{};if(!t)return a;if(e.indexOf("*")!==-1){r.shift();let i=r.filter(o=>o!==void 0).filter(o=>o.startsWith("/")).join("").split("/");i.shift();let n=y(m({},a),{wild:i.filter(o=>o!=="")});if(e==="*"||e.indexOf("/*")!==-1)return n;let s=e.split("/").find(o=>o.startsWith(":")&&o.endsWith("*"));return s&&(s=s.slice(1,-1),n[s]=[n[s]].concat(n.wild).filter(o=>o!==""),delete n.wild),n}return a}function et(e){try{return decodeURI(e)}catch(t){return e}}var E,C=x(()=>{O();E=class{constructor(t={}){this.routes=[];this.id=t.id||"root",this.fallback=t.fallback||W(L,null)}add(t,r){let a=!1,i=t.replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/(\/?)\*/g,(s,o)=>(a=!0,`(${o}.*)?`)).replace(/\.(?=[\w(])/,"\\."),n=new RegExp(`^${i}/*$`);return this.routes.push({path:t,fn:r,regex:n,wild:a}),this}find(t){let r,a={},i=0,n,s=this.routes,o=s.length;for(t=et(t);i<o;){if(n=s[i],n.regex.test(t)){let d=n.regex.exec(t);r=n.fn,a=tt(n.path,n.wild,d);break}i++}return{fn:r,params:a}}handle(){let{pathname:t,search:r}=window.location;if(this.current===t+r)return;let{fn:a,params:i}=this.find(t);this.current=t+r;let n=this.id,s={};if(s.pathname=t,s.url=this.current,s.path=t,s.isServer=!1,s.getBaseUrl=()=>location.origin,s.params=i,s.render=(o,d)=>{Z(o,document.getElementById(d||n))},!a)return s.render(W(L,null));a(s)}resolve(){let t=()=>this.handle();t(),window.addEventListener("pushstate",r=>{r.preventDefault(),t()}),window.addEventListener("replacestate",r=>{r.preventDefault(),t()}),window.addEventListener("popstate",()=>{t()})}}});import{h as rt}from"https://cdn.skypack.dev/nano-jsx@v0.0.30";var st=M(U=>{S();B();C();function nt(e){return k(this,null,function*(){return(yield import(e+"?v="+N)).default})}var R=!0;window.addEventListener("load",()=>{let e=document.getElementById("__INIT_DATA__");e&&(e=JSON.parse(e.textContent||"{}"));let t=new E;for(let r=0;r<P.length;r++){let a=P[r];t.add(a.path,i=>k(U,null,function*(){i.isFirst=R;try{let n={};R||(n=c.initProps?yield c.initProps(i):{}),c.event.onStart!==void 0&&(yield c.event.onStart(i));let s=typeof a.page=="string"?yield nt(a.page):a.page,o=R?e||{}:s.initProps?yield s.initProps(i):{};i.render(rt(c,{Page:s,initData:m(m({},o),n),route:{pathname:i.pathname,url:i.url,path:a.path,params:i.params},isServer:!1})),c.event.onEnd!==void 0&&c.event.onEnd(i)}catch(n){c.event.onError!==void 0&&c.event.onError(n,i)}R=!1}))}t.resolve()})});export default st();
